{"version":3,"file":"pagination.js","sources":["../../../src/components/yeti-table/pagination.gjs"],"sourcesContent":["import { action } from '@ember/object';\nimport { helper } from '@ember/component/helper';\nimport Component from '@glimmer/component';\nimport { localCopy } from 'tracked-toolbox';\n\n/**\n  Simple pagination controls component that is included to help you get started quickly.\n  Yeti Table yields a lot of pagination data, so you shouldn't have a problem\n  creating your own pagination controls.\n\n  At any rate, this component tries to be as flexible as possible. Some arguments\n  are provided to customize how this component behaves.\n\n  If you want to render these controls on the table footer, you probably want\n  a footer row that always spans all rows. To do that you can use a `colspan` equal\n  to the yielded `visibleColumns.length` number. Example:\n\n  ```hbs\n  <YetiTable @data={{this.data}} @pagination={{true}} as |table|>\n    ...\n    <table.tfoot as |foot|>\n      <foot.row as |row|>\n        <row.cell colspan={{table.visibleColumns.length}}>\n          <table.pagination/>\n        </row.cell>\n      </foot.row>\n    </table.tfoot>\n  </YetiTable>\n  ```\n\n  @class Pagination\n*/\nimport { on } from '@ember/modifier';\nimport { guidFor } from '@ember/object/internals';\n\nexport default class Pagination extends Component {\n  guid = guidFor(this);\n\n  <template>\n    <div class={{@theme.pagination.controls}} ...attributes>\n      {{#if this.showInfo}}\n        <div class={{@theme.pagination.info}}>\n          Showing\n          {{@paginationData.pageStart}}\n          to\n          {{@paginationData.pageEnd}}\n          of\n          {{@paginationData.totalRows}}\n          entries\n        </div>\n      {{/if}}\n\n      {{#if this.showPageSizeSelector}}\n        <div class={{@theme.pagination.pageSize}}>\n          <label for=\"page-size-select-{{this.guid}}\">Rows per page:</label>\n          <select\n            id=\"page-size-select-{{this.guid}}\"\n            disabled={{@disabled}}\n            {{on \"change\" this.changePageSize}}\n          >\n            {{#each this.pageSizes as |pageSize|}}\n              <option\n                value={{pageSize}}\n                selected={{this.isPaginationNumberSelected pageSize}}\n              >{{pageSize}}</option>\n            {{/each}}\n          </select>\n        </div>\n      {{/if}}\n\n      {{#if this.showButtons}}\n        <button\n          type=\"button\"\n          class={{@theme.pagination.previous}}\n          disabled={{this.shouldDisablePrevious}}\n          {{on \"click\" @paginationActions.previousPage}}\n        >\n          Previous\n        </button>\n\n        <button\n          type=\"button\"\n          class={{@theme.pagination.next}}\n          disabled={{this.shouldDisableNext}}\n          {{on \"click\" @paginationActions.nextPage}}\n        >\n          Next\n        </button>\n      {{/if}}\n    </div>\n  </template>\n  // theme;\n\n  // paginationData;\n\n  // paginationActions;\n\n  // disabled;\n\n  // helper function used, needed while working with ember <= 4.4. Works without helper function in ember > 4.4\n  isPaginationNumberSelected = helper(([number]) => {\n    return number === this.args.paginationData.pageSize;\n  });\n\n  get shouldDisablePrevious() {\n    return this.args.paginationData.isFirstPage || this.args.disabled;\n  }\n\n  get shouldDisableNext() {\n    return this.args.paginationData.isLastPage || this.args.disabled;\n  }\n\n  /**\n   * Array of page sizes to populate the page size `<select>`.\n   * Particularly useful with an array helper, e.g `@pageSizes={{array 10 12 23 50 100}}`\n   * Defaults to `[10, 15, 20, 25]`.\n   *\n   * @argument pageSizes\n   * @type {Number}\n   */\n  @localCopy('args.pageSizes', [10, 15, 20, 25])\n  pageSizes;\n\n  /**\n   * Used to show/hide some textual information about the current page. Defaults to `true`.\n   *\n   * @argument showInfo\n   * @type {Boolean}\n   */\n  @localCopy('args.showInfo', true)\n  showInfo;\n\n  /**\n   * Used to show/hide the page size selector. Defaults to `true`.\n   *\n   * @argument showPageSizeSelector\n   * @type {Boolean}\n   */\n  @localCopy('args.showPageSizeSelector', true)\n  showPageSizeSelector;\n\n  /**\n   * Used to show/hide the previous and next page buttons. Defaults to `true`.\n   *\n   * @argument showButtons\n   * @type {Boolean}\n   */\n  @localCopy('args.showButtons', true)\n  showButtons;\n\n  @action\n  changePageSize(ev) {\n    this.args.paginationActions.changePageSize(ev.target.value);\n  }\n}\n"],"names":["Pagination","Component","guid","guidFor","setComponentTemplate","precompileTemplate","strictMode","scope","on","isPaginationNumberSelected","helper","number","args","paginationData","pageSize","shouldDisablePrevious","isFirstPage","disabled","shouldDisableNext","isLastPage","g","prototype","localCopy","i","changePageSize","ev","paginationActions","target","value","n","action"],"mappings":";;;;;;;;;;AAmCe,MAAMA,UAAA,SAAmBC,SAAA,CAAA;AACtCC,EAAAA,IAAA,GAAOC,OAAA,CAAQ,IAAI,CAAA;AAEnB,EAAA;IAAAC,oBAAA,CAAAC,kBAAA,CAAA,isCAAA,EAoDA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACV;AAEA;AAEA;AAEA;AAEA;AACAC,EAAAA,0BAAA,GAA6BC,MAAA,CAAO,CAAC,CAACC,MAAA,CAAO,KAAA;IAC3C,OAAOA,WAAW,IAAI,CAACC,IAAI,CAACC,cAAc,CAACC,QAAQ;AACrD,EAAA,CAAA,CAAA;EAEA,IAAIC,qBAAAA,GAAwB;AAC1B,IAAA,OAAO,IAAI,CAACH,IAAI,CAACC,cAAc,CAACG,WAAW,IAAI,IAAI,CAACJ,IAAI,CAACK,QAAQ;AACnE,EAAA;EAEA,IAAIC,iBAAAA,GAAoB;AACtB,IAAA,OAAO,IAAI,CAACN,IAAI,CAACC,cAAc,CAACM,UAAU,IAAI,IAAI,CAACP,IAAI,CAACK,QAAQ;AAClE,EAAA;AAEA;;;;;;;;AAAA,EAAA;AAAAG,IAAAA,CAAA,MAAAC,SAAA,EAAA,WAAA,EAAA,CAQCC,UAAU,gBAAA,EAAkB,CAAC,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,EAAA,CAAG,CAAA,CAAA,CAAA;AAAA;EAAA,UAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,WAAA,CAAA,EAAA,MAAA;AAAA,EAAA;IAAAH,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,UAAA,EAAA,CAS5CC,UAAU,eAAA,EAAiB,IAAA,CAAA,CAAA,CAAA;AAAA;EAAA,SAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,UAAA,CAAA,EAAA,MAAA;AAN5B;;;;;;AAAA,EAAA;IAAAH,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,sBAAA,EAAA,CAeCC,UAAU,2BAAA,EAA6B,IAAA,CAAA,CAAA,CAAA;AAAA;EAAA,qBAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,sBAAA,CAAA,EAAA,MAAA;AANxC;;;;;;AAAA,EAAA;IAAAH,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,aAAA,EAAA,CAeCC,UAAU,kBAAA,EAAoB,IAAA,CAAA,CAAA,CAAA;AAAA;EAAA,YAAA,IAAAC,CAAA,CAAA,IAAA,EAAA,aAAA,CAAA,EAAA,MAAA;AAN/B;;;;;;EAUAC,cAAAA,CAAeC,EAAE,EAAE;AACjB,IAAA,IAAI,CAACb,IAAI,CAACc,iBAAiB,CAACF,cAAc,CAACC,EAAA,CAAGE,MAAM,CAACC,KAAK,CAAA;AAC5D,EAAA;AAAA,EAAA;IAAAC,CAAA,CAAA,IAAA,CAAAR,SAAA,EAAA,gBAAA,EAAA,CAHCS,MAAA,CAAA,CAAA;AAAA;AAIH;;;;"}