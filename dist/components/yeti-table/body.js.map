{"version":3,"file":"body.js","sources":["../../../src/components/yeti-table/body.gjs"],"sourcesContent":["import { action } from '@ember/object';\n\nimport Component from '@glimmer/component';\n\n/**\n  Renders a `<tbody>` element and yields the row component, row data and index.\n  ```hbs\n  <table.body as |body person index|>\n    <body.row as |row|>\n      <row.cell>\n        {{person.firstName}} #{{index}}\n      </row.cell>\n      <row.cell>\n        {{person.lastName}}\n      </row.cell>\n      <row.cell>\n        {{person.points}}\n      </row.cell>\n    </body.row>\n  </table.body>\n  ```\n  It can also be used as a blockless component to let yeti table automatically\n  unroll thee rows for you, based on the `@prop` arguments you passed in to the\n  column definition components.\n  ```hbs\n  <table.body/>\n  ```\n  Remember that this component's block will be rendered once per each item in the `@data` array.\n\n  @class Body\n  @yield {object} body\n  @yield {Component} body.row - the row component\n  @yield {Object} rowData - one item in the data array\n  @yield {number} index\n*/\n\n// template imports\nimport { fn, get, hash } from '@ember/helper';\nimport TBodyRow from './tbody/row.gjs';\n\nexport default class Body extends Component {\n  <template>\n    <tbody class={{@theme.tbody}} ...attributes>\n      {{#if (has-block)}}\n\n        {{#each @data as |rowData index|}}\n          {{yield\n            (hash\n              row=(component\n                TBodyRow theme=@theme onClick=@onRowClick columns=@columns\n              )\n            )\n            rowData\n            index\n          }}\n        {{/each}}\n\n      {{else}}\n\n        {{#each @data as |rowData|}}\n          <TBodyRow\n            @theme={{@theme}}\n            @onClick={{if @onRowClick (fn this.handleRowClick rowData)}}\n            @columns={{@columns}}\n            as |row|\n          >\n\n            {{#each @columns as |column|}}\n              <row.cell @class={{column.columnClass}}>\n                {{#if column.prop}}\n                  {{get rowData column.prop}}\n                {{else}}\n                  {{rowData}}\n                {{/if}}\n              </row.cell>\n            {{/each}}\n          </TBodyRow>\n        {{/each}}\n      {{/if}}\n    </tbody>\n  </template>\n  /**\n   * Adds a click action to each row, called with the clicked row's data as an argument.\n   * Can be used with both the blockless and block invocations.\n   *\n   * @argument onRowClick\n   * @type Function\n   */\n\n  @action\n  handleRowClick(rowData) {\n    this.args.onRowClick?.(rowData);\n  }\n}\n"],"names":["Body","Component","setComponentTemplate","precompileTemplate","strictMode","scope","hash","TBodyRow","fn","get","handleRowClick","rowData","args","onRowClick","n","prototype","action"],"mappings":";;;;;;;;AAwCe,MAAMA,IAAA,SAAaC,SAAA,CAAA;AAChC,EAAA;IAAAC,oBAAA,CAAAC,kBAAA,CAAA,kvBAAA,EAuCA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,IAAA;QAAAC,QAAA;QAAAC,EAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACV;;;;;;AAMC;EAGDC,cAAAA,CAAeC,OAAO,EAAE;AACtB,IAAA,IAAI,CAACC,IAAI,CAACC,UAAU,GAAGF,OAAA,CAAA;AACzB,EAAA;AAAA,EAAA;IAAAG,CAAA,CAAA,IAAA,CAAAC,SAAA,EAAA,gBAAA,EAAA,CAHCC,MAAA,CAAA,CAAA;AAAA;AAIH;;;;"}